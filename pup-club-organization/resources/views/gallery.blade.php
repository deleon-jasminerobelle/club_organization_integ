<?php
 /* paki change nalang ng org, photos, events and achievements dito */
$organizations = [
    "Organization A" => [
        // Photos
        ["type" => "Photo", "title" => "Tree Planting", "date" => "Oct 2025", "img" => "tree1.jpg", "details" => "Captured moments of volunteers."],
        ["type" => "Photo", "title" => "Beach Clean-Up", "date" => "Sep 2025", "img" => "beach.jpg", "details" => "Students cleaning the shorelines."],
        ["type" => "Photo", "title" => "Medical Mission", "date" => "Aug 2025", "img" => "medical.jpg", "details" => "Doctors and students working together."],
        ["type" => "Photo", "title" => "Charity Drive", "date" => "Aug 2025", "img" => "charity.jpg", "details" => "Distribution of goods to families."],
        ["type" => "Photo", "title" => "Environmental Talk", "date" => "Jul 2025", "img" => "talk.jpg", "details" => "Seminar on environmental care."],

        // Events
        ["type" => "Event", "title" => "Community Clean-Up", "date" => "Sep 2025", "img" => "cleanup.jpg", "details" => "An organized barangay clean-up drive."],
        ["type" => "Event", "title" => "Blood Donation Drive", "date" => "Aug 2025", "img" => "blood_donation.jpg", "details" => "Encouraging students to donate blood."],

        // Achievements
        ["type" => "Achievement", "title" => "Best Outreach Award", "date" => "2025", "img" => "award.jpg", "details" => "Recognized for outreach programs."],
        ["type" => "Achievement", "title" => "Green Campus Initiative", "date" => "2025", "img" => "green.jpg", "details" => "Awarded for environmental efforts."]
    ],

    "Organization B" => [
        // Photos
        ["type" => "Photo", "title" => "Sports Fest", "date" => "Aug 2025", "img" => "sports1.jpg", "details" => "Basketball team action shots."],
        ["type" => "Photo", "title" => "Volleyball Game", "date" => "Aug 2025", "img" => "volleyball.jpg", "details" => "Intense volleyball championship match."],
        ["type" => "Photo", "title" => "Track & Field", "date" => "Jul 2025", "img" => "track.jpg", "details" => "Running competition highlights."],
        ["type" => "Photo", "title" => "Swimming Gala", "date" => "Jul 2025", "img" => "swim.jpg", "details" => "Medal-winning swimmers."],
        ["type" => "Photo", "title" => "Opening Parade", "date" => "Jul 2025", "img" => "parade.jpg", "details" => "Grand parade of athletes."],

        // Events
        ["type" => "Event", "title" => "Inter-University Sports Fest", "date" => "Aug 2025", "img" => "interuni.jpg", "details" => "Annual sports festival event."],
        ["type" => "Event", "title" => "Wellness Fair", "date" => "Jul 2025", "img" => "wellness.jpg", "details" => "Promoting health and fitness in the campus."],

        // Achievements
        ["type" => "Achievement", "title" => "Champion - Debate", "date" => "2025", "img" => "debate.jpg", "details" => "Won 1st place in debate competition."],
        ["type" => "Achievement", "title" => "Sports Excellence Award", "date" => "2025", "img" => "sports_award.jpg", "details" => "Awarded for outstanding athletic performance."]
    ],

    "Organization C" => [
        // Photos
        ["type" => "Photo", "title" => "Art Exhibit", "date" => "Jul 2025", "img" => "art1.jpg", "details" => "Students showcasing creative artworks."],
        ["type" => "Photo", "title" => "Painting Session", "date" => "Jul 2025", "img" => "painting.jpg", "details" => "Workshop on painting techniques."],
        ["type" => "Photo", "title" => "Sculpture Display", "date" => "Jun 2025", "img" => "sculpture.jpg", "details" => "3D artworks by fine arts students."],
        ["type" => "Photo", "title" => "Photography Contest", "date" => "Jun 2025", "img" => "photo_contest.jpg", "details" => "Best photography entries of the year."],
        ["type" => "Photo", "title" => "Creative Workshop", "date" => "May 2025", "img" => "workshop.jpg", "details" => "Training on creativity and design."],

        // Events
        ["type" => "Event", "title" => "Art Festival", "date" => "Jul 2025", "img" => "festival.jpg", "details" => "Campus-wide festival for arts."],
        ["type" => "Event", "title" => "Culture Night", "date" => "Jun 2025", "img" => "culture.jpg", "details" => "Cultural performances and traditions."],

        // Achievements
        ["type" => "Achievement", "title" => "Best Art Exhibit Award", "date" => "2025", "img" => "exhibit_award.jpg", "details" => "Recognized for creativity in arts."],
        ["type" => "Achievement", "title" => "Cultural Contribution Award", "date" => "2025", "img" => "culture_award.jpg", "details" => "Awarded for promoting culture and traditions."]
    ],

    "Organization D" => [
        // Photos
        ["type" => "Photo", "title" => "Coding Bootcamp", "date" => "Aug 2025", "img" => "bootcamp.jpg", "details" => "Students learning full-stack dev."],
        ["type" => "Photo", "title" => "Hackathon", "date" => "Jul 2025", "img" => "hackathon.jpg", "details" => "Teams solving tech challenges."],
        ["type" => "Photo", "title" => "Robotics Demo", "date" => "Jul 2025", "img" => "robotics.jpg", "details" => "Showcasing student-built robots."],
        ["type" => "Photo", "title" => "AI Seminar", "date" => "Jun 2025", "img" => "ai.jpg", "details" => "Introduction to artificial intelligence."],
        ["type" => "Photo", "title" => "Tech Fair", "date" => "Jun 2025", "img" => "techfair.jpg", "details" => "Campus-wide innovation showcase."],

        // Events
        ["type" => "Event", "title" => "National Hackathon", "date" => "Aug 2025", "img" => "nationhack.jpg", "details" => "Biggest coding challenge of the year."],
        ["type" => "Event", "title" => "IT Summit", "date" => "Jul 2025", "img" => "summit.jpg", "details" => "Annual summit on latest tech trends."],

        // Achievements
        ["type" => "Achievement", "title" => "Hackathon Champions", "date" => "2025", "img" => "champions.jpg", "details" => "Won 1st place at national hackathon."],
        ["type" => "Achievement", "title" => "Innovation Award", "date" => "2025", "img" => "innovation.jpg", "details" => "Recognized for breakthrough project."]
    ],

    "Organization E" => [
        // Photos
        ["type" => "Photo", "title" => "Choir Practice", "date" => "Jul 2025", "img" => "choir.jpg", "details" => "Choir rehearsing for big performance."],
        ["type" => "Photo", "title" => "Theater Play", "date" => "Jul 2025", "img" => "theater.jpg", "details" => "Drama club presenting a play."],
        ["type" => "Photo", "title" => "Dance Competition", "date" => "Jun 2025", "img" => "dance.jpg", "details" => "Dance group performing on stage."],
        ["type" => "Photo", "title" => "Music Night", "date" => "Jun 2025", "img" => "music.jpg", "details" => "Live music performance by band."],
        ["type" => "Photo", "title" => "Stage Performance", "date" => "May 2025", "img" => "stage.jpg", "details" => "Full production stage play."],

        // Events
        ["type" => "Event", "title" => "Cultural Show", "date" => "Jul 2025", "img" => "show.jpg", "details" => "Cultural performance with music and dance."],
        ["type" => "Event", "title" => "Drama Festival", "date" => "Jun 2025", "img" => "festivaldrama.jpg", "details" => "Festival for aspiring stage actors."],

        // Achievements
        ["type" => "Achievement", "title" => "Best Performance Award", "date" => "2025", "img" => "performance_award.jpg", "details" => "Awarded for outstanding stage play."],
        ["type" => "Achievement", "title" => "Cultural Excellence Award", "date" => "2025", "img" => "cultural_award.jpg", "details" => "Recognized for promoting performing arts."]
    ],
];



$filter = $_GET['filter'] ?? 'All';
$search = strtolower($_GET['search'] ?? '');
?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gallery - Our Moments, Our Stories</title>
  <style>
    body { margin:0; font-family: Arial, sans-serif; }

    
    .header {
      position: relative;
      height: 300px;
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
    }
    .header::before {
      content: "";
      position: absolute;
      top:0; left:0; right:0; bottom:0;
      background: url("images/header-bg.jpg") no-repeat center center/cover;  /* paki change nalang ng image */
      z-index: 1;
    }
    .header::after {
      content: "";
      position: absolute;
      top:0; left:0; right:0; bottom:0;
      background: rgba(75, 0, 0, 0.7);
      z-index: 2;
    }
    .header-content {
      position: relative;
      z-index: 3;
    }
    .header-content h1 { margin:0; font-size:36px; }
    .header-content p { margin:5px 0 0; font-size:18px; }

   
    .filter-bar {
      display:flex; justify-content:space-between; align-items:center;
      gap:15px; padding:20px;
      background:#f8f8f8; box-shadow:0 2px 4px rgba(0,0,0,0.1);
    }
    .filters a {
      text-decoration:none; padding:10px 20px; border-radius:20px;
      background:#ccc; font-weight:bold; color:black;
    }
    .filters a.active, .filters a:hover {
      background:#800000; color:white;
    }
    .search-box input {
      padding:10px 15px; border-radius:20px; border:1px solid #ccc;
      width:200px;
    }

    
    .organization { margin:30px; }
    .organization h2 { color:#4b0000; border-bottom:2px solid #ccc; padding-bottom:5px; }
    .gallery {
      display:grid;
      grid-template-columns:repeat(auto-fill, minmax(250px, 1fr));
      gap:20px;
      padding:20px 0;
    }
    .card {
      background:#f0f0f0;
      border-radius:5px;
      box-shadow:2px 2px 5px #aaa;
      overflow:hidden;
    }
    .card img { width:100%; height:180px; object-fit:cover; }
    .card-footer { background:#4b0000; color:white; padding:15px; }
    .card-footer h3 { margin:0; font-size:18px; }
    .card-footer p { margin:5px 0 0; font-size:14px; }
  </style>
</head>
<body>

  
  <div class="header">
    <div class="header-content">
      <h1>Our Moments, Our Stories</h1>
      <p>Capturing our journey through photos, events and achievements</p>
    </div>
  </div>

  <div class="filter-bar">
    <div class="filters">
      <a href="?filter=All&search=<?= urlencode($search) ?>" class="<?= $filter=='All'?'active':'' ?>">All</a>
      <a href="?filter=Photo&search=<?= urlencode($search) ?>" class="<?= $filter=='Photo'?'active':'' ?>">Photos</a>
      <a href="?filter=Event&search=<?= urlencode($search) ?>" class="<?= $filter=='Event'?'active':'' ?>">Events</a>
      <a href="?filter=Achievement&search=<?= urlencode($search) ?>" class="<?= $filter=='Achievement'?'active':'' ?>">Achievements</a>
    </div>
    <div class="search-box">
      <form method="get" action="">
        <input type="hidden" name="filter" value="<?= htmlspecialchars($filter) ?>">
        <input type="text" name="search" placeholder="search..." value="<?= htmlspecialchars($search) ?>">
      </form>
    </div>
  </div>

 
  <?php foreach ($organizations as $orgName => $items): ?>
    <div class="organization">
      <h2><?= $orgName ?></h2>
      <div class="gallery">
        <?php 
        $hasContent = false;
        foreach ($items as $item): 
            
            if ($filter != 'All' && strtolower($item['type']) != strtolower($filter)) continue;

           
            if ($search && strpos(strtolower($item['title']." ".$item['details']." ".$item['date']), $search) === false) continue;

            $hasContent = true;
        ?>
          <div class="card">
            <img src="images/<?= $item['img'] ?>" alt="<?= $item['title'] ?>">
            <div class="card-footer">
              <h3><?= $item['title'] ?></h3>
              <p><?= $item['date'] ?></p>
              <p><?= $item['details'] ?></p>
            </div>
          </div>
        <?php endforeach; ?>

        <?php if (!$hasContent): ?>
          <p style="color:gray;">No results found.</p>
        <?php endif; ?>
      </div>
    </div>
  <?php endforeach; ?>

</body>
</html>
